<div class="login-page-container">
  <h3 class="login-heading-blue">Login</h3>

  <!-- Angular's Reactive form -->

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    
    <!-- Email -->
    <label>Email:</label>
    <input type="email" formControlName="email" class="form-control" />
    <div *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid" class="text-danger">
      Email is required and must be valid.
    </div>

    <!-- Password -->
    <label>Password:</label>
    <div class="position-relative">
      <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control pe-5"/>
      <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePasswordVisibility()"
        style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"></i>
    </div>
    <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="text-danger">
      Password is required.
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary mt-3" [disabled]="loading">
      <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Login
    </button>
  </form>

  <p class="mt-3">If you don't have an account, <a routerLink="/register">Register</a></p>
</div>

<!-- Toast Notification -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055">
  <div id="loginToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
  <div class="d-flex">
    <div class="toast-body">{{ toastMessage }}</div>
    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div> 
  </div>
</div>
